fast alles geklaut von <b>CHO</b> <br>
<code>Hello fellas, or as we say in Germany: ‚ÄúHallo Freunde der fettfreien Leberwurst.‚Äù</code><br>
<small>stolen from <b>LuemmelSec</b><br></small>
<br>
First try of automating PT as good as possible -> as Failsave as Possible<br>
<br>
<b>Installation</b><br>
download this Repository to <code>/opt</code> via <b>git clone</b> <small>(full command is in 1Password with Token or via dfi)</small><br>
Install all requirements + X via <b>tool-install.sh</b> in <code>/opt/hacking/dfi</code><br>
<br>
<b>intended usage</b><br>
First start <b>passive_recon.sh</b> for <b>netdiscover</b> (passive!), <b>PCredz</b> and 5 min <b>TCPdump</b> in tmux.<br>
<b>PCredz</b> should run during the whole test to gather all Credz -> beware it's started in <b>tmux</b> with <code>/opt/hacking/dfi/dfitmux.conf</code>!<br>
<small>maybe not compatible with <i>iTerm tmux</i> integration.</small><br><br>
enter <b>tmux a</b>, create a new window (<b>crtl b + c</b>) and start <b>auto_pt.sh</b>.<br>
<code>/root/input/ipint.txt</code> is needed as Scope <b>exit 1</b> if missing!<br>
<b>Auto_PT</b> creates <code>/root/output/runtime.txt</code> for <i>Performance and Evidence</i> in case of an <i>Incident</i>. Mind the <b>local</b> time!<br>
<b>Auto_PT</b> requests Workspace for <b>MSF</b>.<br>
<br>
<details><summary><h2><b>Auto_PT</b> "Modules":</h2></summary>
    <h3><b>active_recon:</b></h3><br>
    <b>nmap</b><code>/root/input/ipint.txt</code> -> Scope!<br>
    <b>nmap</b> -> Egress-filter<br>
    <b>nmap</b> -> IP Up Hosts<br>
    <b>nmap</b> -> default Creds<br>
    <b>nmap</b> -> Service scan<br>
    <b></b>create Service lists -> for other toolz<br>
    <b>sslscan</b> -> weak Ciphers <br>
    <b>nmap</b> -> Root login check - needs recheck!<br>
    <b>CME</b> -><code>smb_sign_off.txt</code><br>
    <b></b>create<code>relay_lists</code> -> manual use with<b>impacket-ntlmrelayx</b><br>
<br>
    <h3><b>autosploit:</b></h3><br>
    <b>Metasploit-framework</b><code>ressource.txt</code> in<code>/opt/hacking/resource_script/</code> Folder<br>
<br>
    <h3><b>zerocheck:</b></h3><br>
    <b></b>Zerologon check with<b>MSF</b>, NetBIOS with<b>nbtscan</b><br>
<br>
    <h3><b>log4check:</b></h3><br>
    <b></b>Log4J Log4Shell check with<b>MSF</b>, resource<code>log4j.txt</code> in<code>/opt/hacking/resource_script/</code> Folder<br>
<br>
    <h3><b>fast_relay:</b></h3><br>
    <b></b>5 min<b>responder</b> and<b>impacket-ntlmrelayx</b> vs<code>/root/output/list/smb_sign_off.txt</code>.<br>
<br>
    <h3><b>looter:</b></h3><br>
    <b></b>collect the loot, create internal Folders for "Automater"<br>
<br>
    <h3><b>counter:</b></h3><br>
    <b></b>counts the findings and grabs the subnets in <code>/root/output/loot/intern/findings.txt</code><br>
<br>
    <h3><b>Auto_PT DONE!</b></h3><br>
<br>
    <h3><b>cleaner:</b></h3><br>
    <b></b>cleans all the LogFiles and Output generated by <b>Auto_PT</b> +X.<br>
</details>
<br>
<details><summary><b>EXTERN Tools</b></summary>
    <b>securityheader:</b><br>
    reads file to check IP/Domains for webserver security header.<br>
<br>
    <b>slowhttp:</b><br>
    reads file to check Domains for slowhttp creates html + csv for Screens + Proof.<br>
</details>
<br>
<details><summary><b>Additional Files</b></summary>
    <b>dfitmux.conf</b><br>
    My <b>tmux</b> Config, some kind of special, used in passive_recon.<br>
<br>
    <b>zshrc</b><br>
    my <code>.zshrc</code>, Kali 2020.4 with "seperate command line" and üíÄ.<br>
<br>
    <b>customqueries</b><br>
    Custom <b>Bloodhound</b> 4.1 queries. File goes to <code>\~/Library/Application Support/bloodhound</code><br>
<br>
    Additional queries when using the backend for exports "_like_" <b>plumhound</b><br>
    Accessible via <code>http://127.0.0.1:7474/browser/</code> or <b>Neo4j Browser</b><br>
<br>
    <code>MATCH (u:User) return u.name, u.displayname, u.description</code> for username + description<br>
    <code>MATCH (c:Computer) WHERE c.haslaps=FALSE RETURN c.name, c.haslaps</code> for Computer without LAPS<br>
    <code>MATCH (c:Computer)-[:MemberOf]->(t:Group) WHERE t.name =~ "(?i)DOM√ÑNENCONTROLLER.*" RETURN c.name</code> for all DCs (german Domain) <small>(for <b>cme</b> or other tools)</small><br>
</details>
<br>
