fast alles geklaut von <b>CHO</b> <br>
<code>Hello fellas, or as we say in Germany: ‚ÄúHallo Freunde der fettfreien Leberwurst.‚Äù</code><br>
<small>stolen from <b>LuemmelSec</b><br></small>
<br>
First try of automating PT as good as possible -> as Failsave as Possible<br>
<br>
<b>Installation</b><br>
download this Repository to <code>/opt</code> via <b>git clone</b> <small>(full command is in 1Password with Token or via dfi)</small><br>
Install all requirements + X via <b>tool-install.sh</b> in <code>/opt/hacking/dfi</code><br>
<br>
<b>intended usage</b><br>
First start <b>passive_recon.sh</b> for <b>netdiscover</b> (passive!), <b>PCredz</b> and 5 min <b>TCPdump</b> in tmux.<br>
<b>PCredz</b> should run during the whole test to gather all Credz -> beware it's started in <b>tmux</b> with <code>/opt/hacking/dfi/dfitmux.conf</code>!<br>
<small>maybe not compatible with iTerm tmux integration.</small><br><br>
enter <b>tmux a</b>, create a new window (<code>crtl b + c</code>) and start <b>auto_pt.sh</b>.<br>
<code>/root/input/ipint.txt</code> is needed as Scope <code>exit 1</code> if missing!<br>
Auto_PT creates <code>/root/output/runtime.txt</code> for Performance and Evidence in case of an Incident. Mind the <b>local</b> time!<br>
Auto_PT requests Workspace for MSF.<br>
Auto_PT "Modules":<br>
<br>
<b>active_recon:</b><br>
nmap <code>/root/input/ipint.txt</code> -> Scope!<br>
nmap -> Egress<br>
nmap -> IP Up Hosts<br>
nmap -> default Creds<br>
nmap -> Service scan<br>
create Service lists -> for other toolz<br>
sslscan -> weak Ciphers <br>
nmap - Root login check - needs recheck!<br>
CME open SMB<br>
create relay_lists -> manual use with Impacket<br>
<br>
<b>autosploit:</b><br>
Metasploit <code>ressource.txt</code> in <code>/opt/hacking/resource_script/</code> Folder<br>
<br>
<b>zerocheck:</b><br>
Zerologon check with MSF, NetBIOS with nbtscan<br>
<br>
<b>log4check:</b><br>
Log4J Log4Shell check with MSF, resource <code>log4j.txt</code> in <code>/opt/hacking/resource_script/</code> Folder<br>
<br>
<b>fast_relay:</b><br>
5 min responder and relay vs <code>/root/output/list/smb_sign_off.txt</code>.<br>
<br>
<b>looter:</b><br>
collect the loot, create internal Folders for "Automater"<br>
<br>
<b>counter:</b><br>
counts the findings and grabs the subnets in <code>/root/output/loot/intern/findings.txt</code><br>
<br>
<b>Auto_PT DONE!</b><br>
<br>
<b>cleaner:</b><br>
cleans all the LogFiles and Output generated by <b>Auto_PT</b> +X.<br>
<br>
<b>EXTERN Tools</b><br>
<br>
<b>securityheader:</b><br>
reads file to check IP/Domains for webserver security header.<br>
<br>
<b>slowhttp:</b><br>
reads file to check Domains for slowhttp creates html + csv for Screens + Proof.<br>
<br>
<b>Additional Files</b><br>
<br>
<b>dfitmux.conf</b><br>
My tmux Config, some kind of special, used in passive_recon.<br>
<br>
<b>zshrc</b><br>
my .zshrc, Kali 2020.4 with "seperate command line" and üíÄ.<br>
<br>
<b>customqueries</b><br>
Custom Bloodhound 4.1 queries. File goes to <code>\~/Library/Application Support/bloodhound</code><br>
Additional queries when using the backend for exports "_like_" <b>plumhound</b><br>
Accessible via <code>http://127.0.0.1:7474/browser/</code><br>
<br>
<code>MATCH (u:User) return u.name, u.displayname, u.description</code> for username + description<br>
<code>MATCH (c:Computer) WHERE c.haslaps=FALSE RETURN c.name, c.haslaps</code> for Computer without LAPS<br>
<code>MATCH (c:Computer)-[:MemberOf]->(t:Group) WHERE t.name =~ "(?i)DOM√ÑNENCONTROLLER.*" RETURN c.name</code> for all DCs (german Domain) <small>(for <b>cme</b> or other tools)</small><br>
